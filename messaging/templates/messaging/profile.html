{% extends 'main.html' %} {% block content %}

<style>
	.profile-page {
		text-align: center;
		border: 3px solid green;
	}
</style>

<body>
	<center>
		<div class="profile-page">
			{% if profile.image %}
			<img
				class="rounded-circle z-depth-2"
				alt="100x100"
				src="{{ profile.image.url }}"
				style="max-height: 300px"
			/>
			{% endif %}
			<h1>@{{ user.username }}</h1>
			<h3>{{ user.get_full_name }}</h3>
			<h4>{{ user.email }}</h4>
			<h4>
				{% if profile.displayPoints or loggedIn == user.id%}Points:
				{{profile.points}}{% endif %}
			</h4>
			{% if loggedIn == user.id %}
			<h4>Wallet: {{profile.wallet}}</h4>
			{% endif %}
			<div class="bio">{{ profile.bio }}</div>

			<hr />
			{% if loggedIn == user.id %}
			<a
				class="btn btn-primary"
				href="{% url 'updateProfile' user.id %}"
				role="button"
			>
				Update Profile
			</a>
			{% endif %} {% if profile.displayPurchases or loggedIn == user.id%}
			<hr />
			<div>
				<h4>Purchases</h4>
				{% if purchases.count > 0 %} {% for purchase in purchases %}
				<!-- TODO: needs to be formatted nicely -->
				<div>
					<h5>{{ purchase.product.name }}</h5>
					<img
						class="z-depth-2"
						alt="100x100"
						src="{{ purchase.product.image.url }}"
						style="max-height: 300px"
					/>
				</div>
				{% endfor %} {% else %}
				<h5>Go buy something!</h5>
				{% endif %}
			</div>
			{% endif %}
		</div>
	</center>
</body>

{% endblock %}
